DIRECTORY extra/lab1q

This compiler implements the language if Lab 1, but with a different
set of design choices.  Instead of using a lexer and parser built with
ocamllex and ocamlyacc, there is a hand-written lexer and parser; and
(independently of that) instead of building an abstract tree for the
whole program, the parser mostly generates code as it parses the
input, in a one-pass style.  An expression can be translated either
into code that calculates its value on the stack, or into code that
jumps on the expression as a short-circuit condition.  So the parser
still does build a simplified AST for each expression, and immediately
afterwards passes it to either Expr.gen_expr or Expr.gen_cond for
translation.

The code is generated by side-effects during parsing and is held in an
in-memory buffer (module Codebuf) so that it can be passed to the
peephole optimiser before being output.
